#!/usr/bin/env python3
"""
–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç Telegram –±–æ—Ç–∞
"""

import asyncio
from telegram import Bot
from decouple import config

async def test_bot():
    """–¢–µ—Å—Ç–∏—Ä—É–µ–º –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–æ—Ç–∞"""
    
    bot_token = config('TELEGRAM_BOT_TOKEN', default='')
    
    if not bot_token:
        print("‚ùå TELEGRAM_BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω")
        return
    
    bot = Bot(token=bot_token)
    
    try:
        # –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ
        bot_info = await bot.get_me()
        print("‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω!")
        print(f"ü§ñ –ò–º—è: {bot_info.first_name}")
        print(f"üìõ Username: @{bot_info.username}")
        print(f"üÜî ID: {bot_info.id}")
        
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
        commands = [
            ("start", "üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"),
            ("help", "üìö –ü–æ–º–æ—â—å –∏ –∫–æ–º–∞–Ω–¥—ã"),
            ("about", "‚ÑπÔ∏è –û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏")
        ]
        
        await bot.set_my_commands(commands)
        print("‚úÖ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã")
        
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞
        description = """Tudushka ‚Äî —É–º–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á —Å AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º! ü§ñ

üéØ –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ —Å AI –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
üí¨ –û–±—â–∞–π—Ç–µ—Å—å —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º  
üß† –í—ã–±–∏—Ä–∞–π—Ç–µ –º–µ–∂–¥—É ChatGPT, Claude, Perplexity
üìä –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ –¥–µ–¥–ª–∞–π–Ω–∞–º–∏

–ù–∞–∂–º–∏—Ç–µ /start —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å! üöÄ"""
        
        await bot.set_my_description(description)
        print("‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ")
        
        # –ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
        short_description = "ü§ñ –£–º–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á —Å AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º"
        await bot.set_my_short_description(short_description)
        print("‚úÖ –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ")
        
        print("\nüéâ –ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω!")
        print("üì± –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:")
        print("   ‚Ä¢ –ù–∞–ø–∏—Å–∞—Ç—å –±–æ—Ç—É /start")
        print("   ‚Ä¢ –£–≤–∏–¥–µ—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ") 
        print("   ‚Ä¢ –ó–∞–ø—É—Å—Ç–∏—Ç—å WebApp –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")

if __name__ == "__main__":
    asyncio.run(test_bot())